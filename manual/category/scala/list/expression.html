<div class="item" data-category="expression">
    <a name="expression"></a>
    <h2>Условные выражения и циклы</h2>
    <h3>1. Условный оператор</h3>
    <pre>
        <code class="scala">
// выражение
def abs(i: Int) = if (i < 0) -i else i

// шаблон условного выражения
val i = if (a > b) a else b

// классическое выражение
if (a) {
    //TODO
} else if (b) {
    //TODO
} else {
    //TODO
}
        </code>
    </pre>
    <h3>2. For</h3>
    <pre>
        <code class="scala">
val strings = Seq("A", "B")
val numbers = Seq(1, 2, 3)

for (str <- strings) print(str + ", ") // A, B,

for (num <- numbers) print(num + ", ") // 1, 2, 3,

for {str <- strings
      num <- numbers} print(str + num + ", ") // A1, A2, A3, B1, B2, B3,
        </code>
    </pre>
    <p>Использование генераторов в циклах for:</p>
    <pre>
        <code class="scala">
for (i <- 1 to 5) print(s"$i; ") // 1; 2; 3; 4; 5;

for (i <- until 5) print(s"$i; ") // 1; 2; 3; 4;
        </code>
    </pre>
    <p>Использование "гардов" (guards) в циклах for:</p>
    <pre>
        <code class="scala">
for { i <- 1 to 5
      if (0 == i % 2) } print(s"$i; ") // 2; 4;

for { i <- 1 to 5
      if (0 == i % 2)
      if (i > 2) } print(s"$i; ") // 4;
        </code>
    </pre>
    <p>Конструкции for-yield for как выражение (expression):</p>
    <pre>
        <code class="scala">
val strings = Seq("A", "B")
val res = for {i <- 1 to 2
               str <- strings
               } yield (s"$str$i")

print(res) // Vector(A1, B1, A2, B2)
        </code>
    </pre>
    <p>Эквивалент foreach:</p>
    <pre>
        <code class="scala">
// 1 вариант
for { i <- 1 to 2 } print(i)

// 2 вариант
(1 to 2).foreach(i => print(i))
        </code>
    </pre>
    <p>for-yield эквивалентен map:</p>
    <pre>
        <code class="scala">
val res0 = for {i <- 1 to 2}
            yield(i * i)

val res1 = (1 to 2).map{i => i * i}
print(res0 == res1) // true
print(res0) // Vector(1, 4)
        </code>
    </pre>
    <h3>3. While/do-while</h3>
    <p>Синтаксис:</p>
    <pre>
        <code class="scala">
var i = 0
while (i < 5) {
    print(s"$i; ")
    i += 1
}
// 0; 1; 2; 3; 4;

var j = 0
do {
    print(s"$j; ")
    j -= 1
} while (j > 0)
// 0;
        </code>
    </pre>
    <p>While/do-while - это выражение, которое возвращает тип Unit</p>
    <pre>
        <code class="scala">
var i = 0
val res = while (i < 5) {
    //TODO
    i += 1
}

print(res) // ()
        </code>
    </pre>
</div>
